{"version":3,"sources":["node_modules/browser-pack/_prelude.js","src/callbacks.js","src/channels/alipay_pc_direct.js","src/channels/alipay_wap.js","src/channels/bfb_wap.js","src/channels/cmb_wallet.js","src/channels/commons/redirect_base.js","src/channels/cp_b2b.js","src/channels/extras/ap.js","src/channels/fqlpay_qr.js","src/channels/isv_wap.js","src/channels/jdpay_wap.js","src/channels/qpay_pub.js","src/channels/upacp_pc.js","src/channels/upacp_wap.js","src/channels/wx_lite.js","src/channels/wx_pub.js","src/channels/wx_wap.js","src/channels/yeepay_wap.js","src/collection.js","src/init.js","src/libs/md5.js","src/main.js","src/mods.js","src/payment_elements.js","src/stash.js","src/testmode.js","src/utils.js","src/version.js"],"names":["f","exports","module","define","amd","window","global","self","this","pingpp","e","t","n","r","s","o","u","a","require","i","Error","code","l","call","length","1","payment_elements","userCallback","undefined","innerCallback","result","err","error","clear","msg","extra","utils","hasOwn","hasOwnProperty","ALIPAY_PC_DIRECT_URL","handleCharge","charge","channel","credential","baseURL","channel_url","service","_input_charset","query","stringifyData","redirectTo","mods","ALIPAY_WAP_URL_OLD","ALIPAY_WAP_URL","targetURL","ap","getExtraModule","inWeixin","pay","callbacks","url","CMB_WALLET_URL","request_url","ChannelUrl","channelVersion","formSubmit","CP_B2B_URL","stash","b","PADCHAR","ALPHA","makeDOMException","DOMException","INVALID_CHARACTER_ERR","d","c","number","name","description","toString","message","getbyte64","indexOf","charAt","decode","h","g","j","push","String","fromCharCode","join","getbyte","charCodeAt","encode","arguments","SyntaxError","k","encodeURIComponent","APURL","location","href","decodeURIComponent","redirectBase","pay_channel","inAlipay","JDPAY_WAP_URL_OLD","JDPAY_H5_URL","JDPAY_PC_URL","channelUrl","SRC_URL","ID","tokenId","token_id","loadUrlJs","callpay","mqq","QQVersion","tenpay","resultCode","retmsg","UPACP_PC_URL","UPACP_WAP_URL","fields","jsApiParameters","wxLiteEnabled","wx","requestPayment","wx_lite","appId","complete","res","errMsg","err_code","err_desc","console","log","runTestMode","showModal","title","content","PINGPP_NOTIFY_URL_BASE","wx_jssdk","jssdkEnabled","WeixinJSBridge","eventCallback","jsApiCall","document","addEventListener","attachEvent","invoke","err_msg","confirm","path","id","request","data","status","YEEPAY_WAP_URL","YEEPAY_WAP_TEST_URL","mode","md5","collection","seperator","limit","report_url","timeout","getParam","str","param","reg","RegExp","substr","match","unescape","getUserAgent","navigator","userAgent","getHost","host","store","obj","localStorage","_this","reportData","app_id","ch_id","type","user_agent","time","Date","getTime","puid","reportStr","statsToSave","getItem","setItem","send","pppOneStats","split","origin","token","removeItem","X-Pingpp-Report-Token","report","setTimeout","dc","init","documentReady","initPuid","randomString","getElementById","iframe","createElement","src","style","display","body","appendChild","safe_add","x","y","lsw","bit_rol","num","cnt","md5_cmn","q","md5_ff","md5_gg","md5_hh","md5_ii","binl_md5","len","olda","oldb","oldc","oldd","binl2rstr","input","output","rstr2binl","rstr_md5","rstr_hmac_md5","key","hash","bkey","ipad","opad","concat","rstr2hex","str2rstr_utf8","raw_md5","hex_md5","raw_hmac_md5","hex_hmac_md5","string","raw","version","v","testmode","PingppSDK","prototype","createPayment","chargeJSON","callback","signature","debug","app","channelModule","getChannelModule","livemode","setAPURL","channels","alipay_pc_direct","alipay_wap","bfb_wap","cmb_wallet","cp_b2b","fqlpay_qr","fqlpay_wap","isv_wap","jdpay_wap","qpay_pub","upacp_pc","upacp_wap","wx_pub","wx_wap","yeepay_wap","extras","or_id","order_no","time_expire","charge_or_order","JSON","parse","object","merchant_order_no","charge_essentials","charges","PINGPP_MOCK_URL","params","scheme","orderNo","timeExpire","stringify","urlencode","method","requestData","successCallback","errorCallback","headers","XMLHttpRequest","xhr","toUpperCase","open","setRequestHeader","onreadystatechange","readyState","responseText","onerror","form","setAttribute","hiddenField","submit","chars","maxPos","Math","floor","random","toLowerCase","fn","sid","jsurl","nodeHead","getElementsByTagName","nodeScript","async","onload","ready"],"mappings":"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","file":"pingpp.js","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})","var payment_elements = require('./payment_elements.js');\nmodule.exports = {\n\n  userCallback: undefined,\n\n  innerCallback: function(result, err) {\n    if (typeof this.userCallback === 'function') {\n      if (typeof err === 'undefined') {\n        err = this.error();\n      }\n      this.userCallback(result, err);\n      this.userCallback = undefined;\n      payment_elements.clear();\n    }\n  },\n\n  error: function(msg, extra) {\n    msg = (typeof msg === 'undefined') ? '' : msg;\n    extra = (typeof extra === 'undefined') ? '' : extra;\n    return {\n      msg: msg,\n      extra: extra\n    };\n  }\n};\n","var utils = require('../utils');\nvar hasOwn = {}.hasOwnProperty;\n\nmodule.exports = {\n\n  ALIPAY_PC_DIRECT_URL: 'https://mapi.alipay.com/gateway.do',\n\n  handleCharge: function(charge) {\n    var channel = charge.channel;\n    var credential = charge.credential[channel];\n    var baseURL = this.ALIPAY_PC_DIRECT_URL;\n    if (hasOwn.call(credential, 'channel_url')) {\n      baseURL = credential.channel_url;\n    }\n    if (!hasOwn.call(credential, '_input_charset')) {\n      if(hasOwn.call(credential, 'service')\n        && credential.service === 'create_direct_pay_by_user') {\n        credential._input_charset = 'utf-8';\n      }\n    }\n    var query = utils.stringifyData(credential, channel, true);\n    utils.redirectTo(baseURL + '?' + query);\n  }\n};\n","var utils = require('../utils');\nvar mods = require('../mods');\nvar hasOwn = {}.hasOwnProperty;\n\nmodule.exports = {\n\n  ALIPAY_WAP_URL_OLD: 'https://wappaygw.alipay.com/service/rest.htm',\n  ALIPAY_WAP_URL: 'https://mapi.alipay.com/gateway.do',\n\n  handleCharge: function(charge) {\n    var channel = charge.channel;\n    var credential = charge.credential[channel];\n    var baseURL = this.ALIPAY_WAP_URL;\n    if (hasOwn.call(credential, 'req_data')) {\n      baseURL = this.ALIPAY_WAP_URL_OLD;\n    } else if (hasOwn.call(credential, 'channel_url')) {\n      baseURL = credential.channel_url;\n    }\n    if (!hasOwn.call(credential, '_input_charset')) {\n      if ((hasOwn.call(credential, 'service')\n          && credential.service === 'alipay.wap.create.direct.pay.by.user')\n        || hasOwn.call(credential, 'req_data')\n      ) {\n        credential._input_charset = 'utf-8';\n      }\n    }\n    var query = utils.stringifyData(credential, channel, true);\n    var targetURL = baseURL + '?' + query;\n    var ap = mods.getExtraModule('ap');\n    if (utils.inWeixin() && typeof ap !== 'undefined') {\n      ap.pay(targetURL);\n    } else {\n      utils.redirectTo(targetURL);\n    }\n  }\n};\n","var utils = require('../utils');\nvar callbacks = require('../callbacks');\nvar hasOwn = {}.hasOwnProperty;\n\nmodule.exports = {\n\n  handleCharge: function(charge) {\n    var channel = charge.channel;\n    var credential = charge.credential[channel];\n\n    if (!hasOwn.call(credential, 'url')) {\n      callbacks.innerCallback('fail',\n        callbacks.error('invalid_credential', 'missing_field:url'));\n      return;\n    }\n    utils.redirectTo(credential.url + '?' +\n      utils.stringifyData(credential, channel));\n  }\n};\n","var utils = require('../utils');\nvar hasOwn = {}.hasOwnProperty;\n\nmodule.exports = {\n\n  CMB_WALLET_URL:\n    'https://netpay.cmbchina.com/netpayment/BaseHttp.dll?MB_EUserPay',\n\n  handleCharge: function(charge) {\n    var credential = charge.credential[charge.channel];\n    var request_url = this.CMB_WALLET_URL;\n    if (hasOwn.call(credential, 'ChannelUrl')) {\n      request_url = credential.ChannelUrl;\n      delete credential.ChannelUrl;\n    }\n\n    if (hasOwn.call(credential, 'channelVersion')) {\n      delete credential.channelVersion;\n    }\n\n    utils.formSubmit(request_url, 'post', credential);\n  }\n};\n","var utils = require('../../utils');\nvar callbacks = require('../../callbacks');\nvar hasOwn = {}.hasOwnProperty;\n\nmodule.exports = {\n\n  handleCharge: function(charge) {\n    var credential = charge.credential[charge.channel];\n    var targetURL;\n    if (typeof credential === 'string') {\n      targetURL = credential;\n    } else if (hasOwn.call(credential, 'url')) {\n      targetURL = credential.url;\n    } else {\n      callbacks.innerCallback('fail', callbacks.error('invalid_credential',\n        'credential format is incorrect'));\n      return;\n    }\n    utils.redirectTo(targetURL);\n  }\n};\n","var utils = require('../utils');\n\nmodule.exports = {\n\n  CP_B2B_URL: 'https://payment.chinapay.com/CTITS/service/rest/page/nref/000000000017/0/0/0/0/0',\n\n  handleCharge: function(charge) {\n    var credential = charge.credential[charge.channel];\n    utils.formSubmit(this.CP_B2B_URL, 'post', credential);\n  }\n};\n","var stash = require('../../stash');\nvar hasOwn = {}.hasOwnProperty;\n\n(function() {\n  var b = {};\n  var a = {};\n  a.PADCHAR = '=';\n  a.ALPHA = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/';\n  a.makeDOMException = function() {\n    try {\n      return new DOMException(DOMException.INVALID_CHARACTER_ERR);\n    } catch (d) {\n      var c = new Error('DOM Exception 5');\n      c.code = c.number = 5;\n      c.name = c.description = 'INVALID_CHARACTER_ERR';\n      c.toString = function() {\n        return 'Error: ' + c.name + ': ' + c.message;\n      };\n      return c;\n    }\n  };\n  a.getbyte64 = function(e, d) {\n    var c = a.ALPHA.indexOf(e.charAt(d));\n    if (c === -1) {\n      throw a.makeDOMException();\n    }\n    return c;\n  };\n  a.decode = function(f) {\n    f = '' + f;\n    var j = a.getbyte64;\n    var h, e, g;\n    var d = f.length;\n    if (d === 0) {\n      return f;\n    }\n    if (d % 4 !== 0) {\n      throw a.makeDOMException();\n    }\n    h = 0;\n    if (f.charAt(d - 1) === a.PADCHAR) {\n      h = 1;\n      if (f.charAt(d - 2) === a.PADCHAR) {\n        h = 2;\n      }\n      d -= 4;\n    }\n    var c = [];\n    for (e = 0; e < d; e += 4) {\n      g = (j(f, e) << 18) |\n        (j(f, e + 1) << 12) |\n        (j(f, e + 2) << 6) |\n        j(f, e + 3);\n      c.push(String.fromCharCode(g >> 16, (g >> 8) & 255, g & 255));\n    }\n    switch (h) {\n      case 1:\n        g = (j(f, e) << 18) | (j(f, e + 1) << 12) | (j(f, e + 2) << 6);\n        c.push(String.fromCharCode(g >> 16, (g >> 8) & 255));\n        break;\n      case 2:\n        g = (j(f, e) << 18) | (j(f, e + 1) << 12);\n        c.push(String.fromCharCode(g >> 16));\n        break;\n    }\n    return c.join('');\n  };\n  a.getbyte = function(e, d) {\n    var c = e.charCodeAt(d);\n    if (c > 255) {\n      throw a.makeDOMException();\n    }\n    return c;\n  };\n  a.encode = function(f) {\n    if (arguments.length !== 1) {\n      throw new SyntaxError('Not enough arguments');\n    }\n    var g = a.PADCHAR;\n    var h = a.ALPHA;\n    var k = a.getbyte;\n    var e, j;\n    var c = [];\n    f = '' + f;\n    var d = f.length - f.length % 3;\n    if (f.length === 0) {\n      return f;\n    }\n    for (e = 0; e < d; e += 3) {\n      j = (k(f, e) << 16) | (k(f, e + 1) << 8) | k(f, e + 2);\n      c.push(h.charAt(j >> 18));\n      c.push(h.charAt((j >> 12) & 63));\n      c.push(h.charAt((j >> 6) & 63));\n      c.push(h.charAt(j & 63));\n    }\n    switch (f.length - d) {\n      case 1:\n        j = k(f, e) << 16;\n        c.push(h.charAt(j >> 18) + h.charAt((j >> 12) & 63) + g + g);\n        break;\n      case 2:\n        j = (k(f, e) << 16) | (k(f, e + 1) << 8);\n        c.push(h.charAt(j >> 18) +\n          h.charAt((j >> 12) & 63) +\n          h.charAt((j >> 6) & 63) + g);\n        break;\n    }\n    return c.join('');\n  };\n  b.url = 'pay.htm';\n  b.pay = function(d) {\n    var c = encodeURIComponent(a.encode(d));\n    if (hasOwn.call(stash, 'APURL')) {\n      b.url = stash.APURL;\n    }\n    location.href = b.url + '?goto=' + c;\n  };\n  b.decode = function(c) {\n    return a.decode(decodeURIComponent(c));\n  };\n\n  module.exports = b;\n})();\n","var redirectBase = require('./commons/redirect_base');\n\nmodule.exports = {\n\n  handleCharge: function(charge) {\n    redirectBase.handleCharge(charge);\n  }\n};\n","var redirectBase = require('./commons/redirect_base');\nvar callbacks = require('../callbacks');\nvar utils = require('../utils');\nvar hasOwn = {}.hasOwnProperty;\n\nmodule.exports = {\n  handleCharge: function (charge) {\n    var extra = charge.extra;\n    if (hasOwn.call(extra, 'pay_channel')) {\n      var pay_channel = extra.pay_channel;\n      if (pay_channel === 'wx' && !utils.inWeixin()) {\n        callbacks.innerCallback('fail',\n          callbacks.error('Not in the WeChat browser'));\n        return;\n      } else if (pay_channel === 'alipay' && !utils.inAlipay()) {\n        callbacks.innerCallback('fail',\n          callbacks.error('Not in the Alipay browser'));\n        return;\n      }\n    } else {\n      callbacks.innerCallback('fail',\n        callbacks.error('invalid_charge', 'charge 格式不正确'));\n      return;\n    }\n    redirectBase.handleCharge(charge);\n  }\n};\n","var utils = require('../utils');\nvar hasOwn = {}.hasOwnProperty;\n\nmodule.exports = {\n\n  JDPAY_WAP_URL_OLD: 'https://m.jdpay.com/wepay/web/pay',\n  JDPAY_H5_URL: 'https://h5pay.jd.com/jdpay/saveOrder',\n  JDPAY_PC_URL: 'https://wepay.jd.com/jdpay/saveOrder',\n\n  handleCharge: function(charge) {\n    var credential = charge.credential[charge.channel];\n    var request_url = this.JDPAY_H5_URL;\n    if (hasOwn.call(credential, 'channelUrl')) {\n      request_url = credential.channelUrl;\n      delete credential.channelUrl;\n    } else if (hasOwn.call(credential, 'merchantRemark')) {\n      request_url = this.JDPAY_WAP_URL_OLD;\n    }\n    utils.formSubmit(request_url, 'post', credential);\n  }\n};\n","var callbacks = require('../callbacks');\nvar utils = require('../utils');\nvar stash = require('../stash');\nvar hasOwn = {}.hasOwnProperty;\n\n/*global mqq*/\nmodule.exports = {\n  SRC_URL: 'https://open.mobile.qq.com/sdk/qqapi.js?_bid=152',\n  ID: 'mqq_api',\n\n  handleCharge: function (charge) {\n    var credential = charge.credential[charge.channel];\n\n    if (!hasOwn.call(credential, 'token_id')) {\n      callbacks.innerCallback('fail',\n        callbacks.error('invalid_credential', 'missing_token_id'));\n      return;\n    }\n\n    stash.tokenId = credential.token_id;\n    utils.loadUrlJs(this.ID, this.SRC_URL, this.callpay);\n  },\n\n  callpay: function () {\n    if (typeof mqq != 'undefined') {\n      if (mqq.QQVersion == 0) {\n        callbacks.innerCallback('fail',\n          callbacks.error('Not in the QQ client'));\n        delete stash.tokenId;\n        return;\n      }\n      mqq.tenpay.pay({\n        tokenId: stash.tokenId\n      }, function (result) {\n        if (result.resultCode == 0) {\n          callbacks.innerCallback('success');\n        } else {\n          callbacks.innerCallback('fail',\n            callbacks.error(result.retmsg));\n        }\n      });\n    } else {\n      callbacks.innerCallback('fail',\n        callbacks.error('network_err'));\n    }\n    delete stash.tokenId;\n  }\n};","var utils = require('../utils');\n\nmodule.exports = {\n\n  UPACP_PC_URL: 'https://gateway.95516.com/gateway/api/frontTransReq.do',\n\n  handleCharge: function(charge) {\n    var credential = charge.credential[charge.channel];\n    utils.formSubmit(this.UPACP_PC_URL, 'post', credential);\n  }\n};\n","var utils = require('../utils');\n\nmodule.exports = {\n\n  UPACP_WAP_URL: 'https://gateway.95516.com/gateway/api/frontTransReq.do',\n\n  handleCharge: function(charge) {\n    var credential = charge.credential[charge.channel];\n    utils.formSubmit(this.UPACP_WAP_URL, 'post', credential);\n  }\n};\n","/**\n * Created by yulitao on 2016/12/29.\n */\nvar stash = require('../stash');\nvar callbacks = require('../callbacks');\nvar hasOwn = {}.hasOwnProperty;\n/*global wx*/\nmodule.exports = {\n\n  handleCharge: function (charge) {\n    var credential = charge.credential[charge.channel];\n    var fields = [\n      'appId', 'timeStamp', 'nonceStr', 'package', 'signType', 'paySign'\n    ];\n    for (var k = 0; k < fields.length; k++) {\n      if (!hasOwn.call(credential, fields[k])) {\n        callbacks.innerCallback('fail',\n          callbacks.error('invalid_credential', 'missing_field_' + fields[k]));\n        return;\n      }\n    }\n    stash.jsApiParameters = credential;\n    this.callpay();\n  },\n\n  wxLiteEnabled: function () {\n    return typeof wx !== 'undefined' && wx.requestPayment;\n  },\n\n  //微信小程序支付\n  callpay: function () {\n    if (!this.wxLiteEnabled()) {\n      console.log('请在微信小程序中打开');\n      return;\n    }\n    var wx_lite = stash.jsApiParameters;\n    delete wx_lite.appId;\n    wx_lite.complete = function (res) {\n      //支付成功\n      if (res.errMsg === 'requestPayment:ok') {\n        callbacks.innerCallback('success');\n      }\n      //取消支付\n      if (res.errMsg === 'requestPayment:cancel') {\n        callbacks.innerCallback('cancel', callbacks.error('用户取消支付'));\n      }\n      //支付验证签名失败\n      if (res.err_code !== 'undefined' && res.err_desc !== 'undefined') {\n        callbacks.innerCallback('fail', callbacks.error(res.err_desc, res));\n      }\n    };\n    wx.requestPayment(wx_lite);\n  },\n\n  /* eslint-disable no-unused-vars */\n  runTestMode: function (url) {\n    wx.showModal({\n      title: '提示',\n      content: '因 \"微信小程序\" 限制 域名的原因 暂不支持 模拟付款 请使用 livekey 获取 charge 进行支付'\n    });\n  }\n  /* eslint-enable no-unused-vars */\n};\n","var callbacks = require('../callbacks');\nvar utils = require('../utils');\nvar stash = require('../stash');\nvar mods = require('../mods');\nvar hasOwn = {}.hasOwnProperty;\n\n/*global WeixinJSBridge*/\nmodule.exports = {\n\n  PINGPP_NOTIFY_URL_BASE: 'https://notify.pingxx.com/notify',\n\n  handleCharge: function(charge) {\n    var credential = charge.credential[charge.channel];\n    var fields = [\n      'appId', 'timeStamp', 'nonceStr', 'package', 'signType', 'paySign'\n    ];\n    for (var k = 0; k < fields.length; k++) {\n      if (!hasOwn.call(credential, fields[k])) {\n        callbacks.innerCallback('fail',\n          callbacks.error('invalid_credential', 'missing_field_' + fields[k]));\n        return;\n      }\n    }\n    stash.jsApiParameters = credential;\n    this.callpay();\n  },\n\n  callpay: function() {\n    var self = this;\n    var wx_jssdk = mods.getExtraModule('wx_jssdk');\n    if (typeof wx_jssdk !== 'undefined' && wx_jssdk.jssdkEnabled()) {\n      wx_jssdk.callpay();\n    } else if (typeof WeixinJSBridge == 'undefined') {\n      var eventCallback = function() {\n        self.jsApiCall();\n      };\n      if (document.addEventListener) {\n        document.addEventListener('WeixinJSBridgeReady',\n          eventCallback, false);\n      } else if (document.attachEvent) {\n        document.attachEvent('WeixinJSBridgeReady', eventCallback);\n        document.attachEvent('onWeixinJSBridgeReady', eventCallback);\n      }\n    } else {\n      this.jsApiCall();\n    }\n  },\n\n  jsApiCall: function() {\n    if (hasOwn.call(stash, 'jsApiParameters')) {\n      WeixinJSBridge.invoke(\n        'getBrandWCPayRequest',\n        stash.jsApiParameters,\n        function(res) {\n          delete stash.jsApiParameters;\n          if (res.err_msg == 'get_brand_wcpay_request:ok') {\n            callbacks.innerCallback('success');\n          } else if (res.err_msg == 'get_brand_wcpay_request:cancel') {\n            callbacks.innerCallback('cancel');\n          } else {\n            callbacks.innerCallback('fail',\n              callbacks.error('wx_result_fail', res.err_msg));\n          }\n        }\n      );\n    }\n  },\n\n  runTestMode: function(charge) {\n    var dopay = confirm('模拟付款？');\n    if (dopay) {\n      var path = '/charges/' + charge.id;\n      utils.request(this.PINGPP_NOTIFY_URL_BASE + path + '?livemode=false',\n        'GET', null,\n        function(data, status) {\n          if (status >= 200 && status < 400 && data == 'success') {\n            callbacks.innerCallback('success');\n          } else {\n            var extra = 'http_code:' + status + ';response:' + data;\n            callbacks.innerCallback('fail',\n              callbacks.error('testmode_notify_fail', extra));\n          }\n        },\n        function() {\n          callbacks.innerCallback('fail', callbacks.error('network_err'));\n        });\n    }\n  }\n};\n","var utils = require('../utils');\nvar callbacks = require('../callbacks');\nvar hasOwn = {}.hasOwnProperty;\n\nmodule.exports = {\n\n  handleCharge: function(charge) {\n    var credential = charge.credential[charge.channel];\n    if (typeof credential === 'string') {\n      utils.redirectTo(credential);\n    } else if (typeof credential === 'object'\n      && hasOwn.call(credential, 'url')\n    ) {\n      utils.redirectTo(credential.url);\n    } else {\n      callbacks.innerCallback('fail',\n        callbacks.error('invalid_credential', 'credential 格式不正确'));\n    }\n  }\n};\n","var utils = require('../utils');\nvar callbacks = require('../callbacks');\nvar hasOwn = {}.hasOwnProperty;\n\nmodule.exports = {\n\n  YEEPAY_WAP_URL: 'https://ok.yeepay.com/paymobile/api/pay/request',\n  YEEPAY_WAP_TEST_URL: 'http://mobiletest.yeepay.com/paymobile/api/pay/request',\n\n  handleCharge: function(charge) {\n    var channel = charge.channel;\n    var credential = charge.credential[channel];\n    var fields = ['merchantaccount', 'encryptkey', 'data'];\n    for (var k = 0; k < fields.length; k++) {\n      if (!hasOwn.call(credential, fields[k])) {\n        callbacks.innerCallback('fail',\n          callbacks.error('invalid_credential', 'missing_field_' + fields[k]));\n        return;\n      }\n    }\n    var baseURL;\n    if (hasOwn.call(credential, 'mode') && credential.mode == 'test') {\n      baseURL = this.YEEPAY_WAP_TEST_URL;\n    } else {\n      baseURL = this.YEEPAY_WAP_URL;\n    }\n    utils.redirectTo(baseURL + '?' +\n      utils.stringifyData(credential, channel, true));\n  }\n};\n","var utils = require('./utils');\nvar stash = require('./stash');\nvar md5 = require('./libs/md5');\n\nvar collection = {\n  seperator: '###',\n  limit: 1,\n  report_url: 'https://statistics.pingxx.com/one_stats',\n  timeout: 100\n};\nvar getParam = function(str, param) {\n  var reg = new RegExp('(^|&)' + param + '=([^&]*)(&|$)', 'i');\n  var r = str.substr(0).match(reg);\n  if (r !== null) return unescape(r[2]);\n  return null;\n};\nvar getUserAgent = function() {\n  return navigator.userAgent;\n};\nvar getHost = function() {\n  return window.location.host;\n};\n\ncollection.store = function(obj) {\n  if (typeof localStorage === 'undefined' || localStorage === null) return;\n  var _this = this;\n  var reportData = {};\n  reportData.app_id = obj.app_id || stash.app_id || 'app_not_defined';\n  reportData.ch_id = obj.ch_id || '';\n  reportData.channel = obj.channel || '';\n  reportData.type = obj.type || '';\n  reportData.user_agent = getUserAgent();\n  reportData.host = getHost();\n  reportData.time = new Date().getTime();\n  reportData.puid = stash.puid;\n\n  var reportStr = 'app_id=' + reportData.app_id +\n    '&channel=' + reportData.channel + '&ch_id=' + reportData.ch_id +\n    '&host=' + reportData.host + '&time=' + reportData.time +\n    '&type=' + reportData.type + '&user_agent=' + reportData.user_agent +\n    '&puid=' + reportData.puid;\n\n  var statsToSave = reportStr;\n  if (localStorage.getItem('PPP_ONE_STATS') !== null &&\n    localStorage.getItem('PPP_ONE_STATS').length !== 0\n  ) {\n    statsToSave = localStorage.getItem('PPP_ONE_STATS') +\n      _this.seperator + reportStr;\n  }\n  try {\n    localStorage.setItem('PPP_ONE_STATS', statsToSave);\n  } catch (e) {\n    /* empty */\n  }\n};\n\ncollection.send = function() {\n  if (typeof localStorage === 'undefined' || localStorage === null) return;\n  var _this = this;\n  var pppOneStats = localStorage.getItem('PPP_ONE_STATS');\n  if (pppOneStats === null ||\n    pppOneStats.split(_this.seperator).length < _this.limit) {\n    return;\n  }\n  try {\n    var data = [];\n    var origin = pppOneStats.split(_this.seperator);\n    var token = md5(origin.join('&'));\n\n    for (var i = 0; i < origin.length; i++) {\n      data.push({\n        app_id: getParam(origin[i], 'app_id'),\n        channel: getParam(origin[i], 'channel'),\n        ch_id: getParam(origin[i], 'ch_id'),\n        host: getParam(origin[i], 'host'),\n        time: getParam(origin[i], 'time'),\n        type: getParam(origin[i], 'type'),\n        user_agent: getParam(origin[i], 'user_agent'),\n        puid: getParam(origin[i], 'puid')\n      });\n    }\n\n    utils.request(_this.report_url, 'POST', data, function(data, status) {\n      if (status == 200) {\n        localStorage.removeItem('PPP_ONE_STATS');\n      }\n    }, undefined, {\n      'X-Pingpp-Report-Token': token\n    });\n  } catch (e) {\n    /* empty */\n  }\n};\n\ncollection.report = function(obj) {\n  var _this = this;\n  _this.store(obj);\n  setTimeout(function(){\n    _this.send();\n  }, _this.timeout);\n};\n\nmodule.exports = collection;\n","var stash = require('./stash');\nvar utils = require('./utils');\nvar dc = require('./collection');\n\nmodule.exports = {\n  SRC_URL: 'https://cookie.pingxx.com',\n\n  init: function() {\n    var self = this;\n    utils.documentReady(function(){\n      self.initPuid();\n    });\n  },\n\n  initPuid: function() {\n    if (typeof window === 'undefined' || typeof localStorage === 'undefined'\n        || localStorage === null) {\n      return;\n    }\n    var puid = localStorage.getItem('pingpp_uid');\n    if (puid === null) {\n      puid = utils.randomString();\n      try {\n        localStorage.setItem('pingpp_uid', puid);\n      } catch (e) {\n        /* empty */\n      }\n    }\n    stash.puid = puid;\n    if (!document.getElementById('p_analyse_iframe')) {\n      var iframe;\n      try {\n        iframe = document.createElement('iframe');\n      }catch(e){\n        iframe = document.createElement('<iframe name=\"ifr\"></iframe>');\n      }\n      iframe.id = 'p_analyse_iframe';\n      iframe.src = this.SRC_URL + '/?puid=' + puid;\n      iframe.style.display = 'none';\n      document.body.appendChild(iframe);\n    }\n    setTimeout(function() {\n      dc.send();\n    }, 0);\n  }\n};\n","/*\n * JavaScript MD5\n * https://github.com/blueimp/JavaScript-MD5\n *\n * Copyright 2011, Sebastian Tschan\n * https://blueimp.net\n *\n * Licensed under the MIT license:\n * http://www.opensource.org/licenses/MIT\n *\n * Based on\n * A JavaScript implementation of the RSA Data Security, Inc. MD5 Message\n * Digest Algorithm, as defined in RFC 1321.\n * Version 2.2 Copyright (C) Paul Johnston 1999 - 2009\n * Other contributors: Greg Holt, Andrew Kepert, Ydnar, Lostinet\n * Distributed under the BSD License\n * See http://pajhome.org.uk/crypt/md5 for more info.\n */\n\n/* global unescape, module */\n\n(function () {\n  /*\n  * Add integers, wrapping at 2^32. This uses 16-bit operations internally\n  * to work around bugs in some JS interpreters.\n  */\n  function safe_add (x, y) {\n    var lsw = (x & 0xFFFF) + (y & 0xFFFF);\n    var msw = (x >> 16) + (y >> 16) + (lsw >> 16);\n    return (msw << 16) | (lsw & 0xFFFF);\n  }\n\n  /*\n  * Bitwise rotate a 32-bit number to the left.\n  */\n  function bit_rol (num, cnt) {\n    return (num << cnt) | (num >>> (32 - cnt));\n  }\n\n  /*\n  * These functions implement the four basic operations the algorithm uses.\n  */\n  function md5_cmn (q, a, b, x, s, t) {\n    return safe_add(bit_rol(safe_add(safe_add(a, q), safe_add(x, t)), s), b);\n  }\n  function md5_ff (a, b, c, d, x, s, t) {\n    return md5_cmn((b & c) | ((~b) & d), a, b, x, s, t);\n  }\n  function md5_gg (a, b, c, d, x, s, t) {\n    return md5_cmn((b & d) | (c & (~d)), a, b, x, s, t);\n  }\n  function md5_hh (a, b, c, d, x, s, t) {\n    return md5_cmn(b ^ c ^ d, a, b, x, s, t);\n  }\n  function md5_ii (a, b, c, d, x, s, t) {\n    return md5_cmn(c ^ (b | (~d)), a, b, x, s, t);\n  }\n\n  /*\n  * Calculate the MD5 of an array of little-endian words, and a bit length.\n  */\n  function binl_md5 (x, len) {\n    /* append padding */\n    x[len >> 5] |= 0x80 << (len % 32);\n    x[(((len + 64) >>> 9) << 4) + 14] = len;\n\n    var i;\n    var olda;\n    var oldb;\n    var oldc;\n    var oldd;\n    var a = 1732584193;\n    var b = -271733879;\n    var c = -1732584194;\n    var d = 271733878;\n\n    for (i = 0; i < x.length; i += 16) {\n      olda = a;\n      oldb = b;\n      oldc = c;\n      oldd = d;\n\n      a = md5_ff(a, b, c, d, x[i], 7, -680876936);\n      d = md5_ff(d, a, b, c, x[i + 1], 12, -389564586);\n      c = md5_ff(c, d, a, b, x[i + 2], 17, 606105819);\n      b = md5_ff(b, c, d, a, x[i + 3], 22, -1044525330);\n      a = md5_ff(a, b, c, d, x[i + 4], 7, -176418897);\n      d = md5_ff(d, a, b, c, x[i + 5], 12, 1200080426);\n      c = md5_ff(c, d, a, b, x[i + 6], 17, -1473231341);\n      b = md5_ff(b, c, d, a, x[i + 7], 22, -45705983);\n      a = md5_ff(a, b, c, d, x[i + 8], 7, 1770035416);\n      d = md5_ff(d, a, b, c, x[i + 9], 12, -1958414417);\n      c = md5_ff(c, d, a, b, x[i + 10], 17, -42063);\n      b = md5_ff(b, c, d, a, x[i + 11], 22, -1990404162);\n      a = md5_ff(a, b, c, d, x[i + 12], 7, 1804603682);\n      d = md5_ff(d, a, b, c, x[i + 13], 12, -40341101);\n      c = md5_ff(c, d, a, b, x[i + 14], 17, -1502002290);\n      b = md5_ff(b, c, d, a, x[i + 15], 22, 1236535329);\n\n      a = md5_gg(a, b, c, d, x[i + 1], 5, -165796510);\n      d = md5_gg(d, a, b, c, x[i + 6], 9, -1069501632);\n      c = md5_gg(c, d, a, b, x[i + 11], 14, 643717713);\n      b = md5_gg(b, c, d, a, x[i], 20, -373897302);\n      a = md5_gg(a, b, c, d, x[i + 5], 5, -701558691);\n      d = md5_gg(d, a, b, c, x[i + 10], 9, 38016083);\n      c = md5_gg(c, d, a, b, x[i + 15], 14, -660478335);\n      b = md5_gg(b, c, d, a, x[i + 4], 20, -405537848);\n      a = md5_gg(a, b, c, d, x[i + 9], 5, 568446438);\n      d = md5_gg(d, a, b, c, x[i + 14], 9, -1019803690);\n      c = md5_gg(c, d, a, b, x[i + 3], 14, -187363961);\n      b = md5_gg(b, c, d, a, x[i + 8], 20, 1163531501);\n      a = md5_gg(a, b, c, d, x[i + 13], 5, -1444681467);\n      d = md5_gg(d, a, b, c, x[i + 2], 9, -51403784);\n      c = md5_gg(c, d, a, b, x[i + 7], 14, 1735328473);\n      b = md5_gg(b, c, d, a, x[i + 12], 20, -1926607734);\n\n      a = md5_hh(a, b, c, d, x[i + 5], 4, -378558);\n      d = md5_hh(d, a, b, c, x[i + 8], 11, -2022574463);\n      c = md5_hh(c, d, a, b, x[i + 11], 16, 1839030562);\n      b = md5_hh(b, c, d, a, x[i + 14], 23, -35309556);\n      a = md5_hh(a, b, c, d, x[i + 1], 4, -1530992060);\n      d = md5_hh(d, a, b, c, x[i + 4], 11, 1272893353);\n      c = md5_hh(c, d, a, b, x[i + 7], 16, -155497632);\n      b = md5_hh(b, c, d, a, x[i + 10], 23, -1094730640);\n      a = md5_hh(a, b, c, d, x[i + 13], 4, 681279174);\n      d = md5_hh(d, a, b, c, x[i], 11, -358537222);\n      c = md5_hh(c, d, a, b, x[i + 3], 16, -722521979);\n      b = md5_hh(b, c, d, a, x[i + 6], 23, 76029189);\n      a = md5_hh(a, b, c, d, x[i + 9], 4, -640364487);\n      d = md5_hh(d, a, b, c, x[i + 12], 11, -421815835);\n      c = md5_hh(c, d, a, b, x[i + 15], 16, 530742520);\n      b = md5_hh(b, c, d, a, x[i + 2], 23, -995338651);\n\n      a = md5_ii(a, b, c, d, x[i], 6, -198630844);\n      d = md5_ii(d, a, b, c, x[i + 7], 10, 1126891415);\n      c = md5_ii(c, d, a, b, x[i + 14], 15, -1416354905);\n      b = md5_ii(b, c, d, a, x[i + 5], 21, -57434055);\n      a = md5_ii(a, b, c, d, x[i + 12], 6, 1700485571);\n      d = md5_ii(d, a, b, c, x[i + 3], 10, -1894986606);\n      c = md5_ii(c, d, a, b, x[i + 10], 15, -1051523);\n      b = md5_ii(b, c, d, a, x[i + 1], 21, -2054922799);\n      a = md5_ii(a, b, c, d, x[i + 8], 6, 1873313359);\n      d = md5_ii(d, a, b, c, x[i + 15], 10, -30611744);\n      c = md5_ii(c, d, a, b, x[i + 6], 15, -1560198380);\n      b = md5_ii(b, c, d, a, x[i + 13], 21, 1309151649);\n      a = md5_ii(a, b, c, d, x[i + 4], 6, -145523070);\n      d = md5_ii(d, a, b, c, x[i + 11], 10, -1120210379);\n      c = md5_ii(c, d, a, b, x[i + 2], 15, 718787259);\n      b = md5_ii(b, c, d, a, x[i + 9], 21, -343485551);\n\n      a = safe_add(a, olda);\n      b = safe_add(b, oldb);\n      c = safe_add(c, oldc);\n      d = safe_add(d, oldd);\n    }\n    return [a, b, c, d];\n  }\n\n  /*\n  * Convert an array of little-endian words to a string\n  */\n  function binl2rstr (input) {\n    var i;\n    var output = '';\n    for (i = 0; i < input.length * 32; i += 8) {\n      output += String.fromCharCode((input[i >> 5] >>> (i % 32)) & 0xFF);\n    }\n    return output;\n  }\n\n  /*\n  * Convert a raw string to an array of little-endian words\n  * Characters >255 have their high-byte silently ignored.\n  */\n  function rstr2binl (input) {\n    var i;\n    var output = [];\n    output[(input.length >> 2) - 1] = undefined;\n    for (i = 0; i < output.length; i += 1) {\n      output[i] = 0;\n    }\n    for (i = 0; i < input.length * 8; i += 8) {\n      output[i >> 5] |= (input.charCodeAt(i / 8) & 0xFF) << (i % 32);\n    }\n    return output;\n  }\n\n  /*\n  * Calculate the MD5 of a raw string\n  */\n  function rstr_md5 (s) {\n    return binl2rstr(binl_md5(rstr2binl(s), s.length * 8));\n  }\n\n  /*\n  * Calculate the HMAC-MD5, of a key and some data (raw strings)\n  */\n  function rstr_hmac_md5 (key, data) {\n    var i;\n    var bkey = rstr2binl(key);\n    var ipad = [];\n    var opad = [];\n    var hash;\n    ipad[15] = opad[15] = undefined;\n    if (bkey.length > 16) {\n      bkey = binl_md5(bkey, key.length * 8);\n    }\n    for (i = 0; i < 16; i += 1) {\n      ipad[i] = bkey[i] ^ 0x36363636;\n      opad[i] = bkey[i] ^ 0x5C5C5C5C;\n    }\n    hash = binl_md5(ipad.concat(rstr2binl(data)), 512 + data.length * 8);\n    return binl2rstr(binl_md5(opad.concat(hash), 512 + 128));\n  }\n\n  /*\n  * Convert a raw string to a hex string\n  */\n  function rstr2hex (input) {\n    var hex_tab = '0123456789abcdef';\n    var output = '';\n    var x;\n    var i;\n    for (i = 0; i < input.length; i += 1) {\n      x = input.charCodeAt(i);\n      output += hex_tab.charAt((x >>> 4) & 0x0F) +\n      hex_tab.charAt(x & 0x0F);\n    }\n    return output;\n  }\n\n  /*\n  * Encode a string as utf-8\n  */\n  function str2rstr_utf8 (input) {\n    return unescape(encodeURIComponent(input));\n  }\n\n  /*\n  * Take string arguments and return either raw or hex encoded strings\n  */\n  function raw_md5 (s) {\n    return rstr_md5(str2rstr_utf8(s));\n  }\n  function hex_md5 (s) {\n    return rstr2hex(raw_md5(s));\n  }\n  function raw_hmac_md5 (k, d) {\n    return rstr_hmac_md5(str2rstr_utf8(k), str2rstr_utf8(d));\n  }\n  function hex_hmac_md5 (k, d) {\n    return rstr2hex(raw_hmac_md5(k, d));\n  }\n\n  function md5 (string, key, raw) {\n    if (!key) {\n      if (!raw) {\n        return hex_md5(string);\n      }\n      return raw_md5(string);\n    }\n    if (!raw) {\n      return hex_hmac_md5(key, string);\n    }\n    return raw_hmac_md5(key, string);\n  }\n\n  module.exports = md5;\n}());\n","var version = require('./version').v;\nvar testmode = require('./testmode');\nvar callbacks = require('./callbacks');\nvar mods = require('./mods');\nvar stash = require('./stash');\nvar dc = require('./collection');\nvar payment_elements = require('./payment_elements');\n\nvar hasOwn = {}.hasOwnProperty;\nvar PingppSDK = function () {\n  require('./init').init();\n};\n\nPingppSDK.prototype = {\n\n  version: version,\n\n  createPayment: function (chargeJSON, callback, signature, debug) {\n    if (typeof callback === 'function') {\n      callbacks.userCallback = callback;\n    }\n\n    payment_elements.init(chargeJSON);\n\n    if (!hasOwn.call(payment_elements, 'id')) {\n      callbacks.innerCallback('fail',\n        callbacks.error('invalid_charge', 'no_charge_id'));\n      return;\n    }\n    if (!hasOwn.call(payment_elements, 'channel')) {\n      callbacks.innerCallback('fail',\n        callbacks.error('invalid_charge', 'no_channel'));\n      return;\n    }\n    if (hasOwn.call(payment_elements, 'app')) {\n      if (typeof payment_elements.app === 'string') {\n        stash.app_id = payment_elements.app;\n      } else if (typeof payment_elements.app === 'object' &&\n        typeof payment_elements.app.id === 'string') {\n        stash.app_id = payment_elements.app.id;\n      }\n    }\n    dc.report({\n      type: 'pure_sdk_click',\n      channel: payment_elements.channel,\n      ch_id: payment_elements.id\n    });\n    var channel = payment_elements.channel;\n    if (!hasOwn.call(payment_elements, 'credential')) {\n      callbacks.innerCallback('fail',\n        callbacks.error('invalid_charge', 'no_credential'));\n      return;\n    }\n    if (!payment_elements.credential) {\n      callbacks.innerCallback('fail',\n        callbacks.error('invalid_credential', 'credential_is_undefined'));\n      return;\n    }\n    if (!hasOwn.call(payment_elements.credential, channel)) {\n      callbacks.innerCallback('fail',\n        callbacks.error('invalid_credential', 'credential_is_incorrect'));\n      return;\n    }\n    if (!hasOwn.call(payment_elements, 'livemode')) {\n      callbacks.innerCallback('fail',\n        callbacks.error('invalid_charge', 'no_livemode_field'));\n      return;\n    }\n    var channelModule = mods.getChannelModule(channel);\n    if (typeof channelModule === 'undefined') {\n      console.error('channel module \"' + channel + '\" is undefined');\n      callbacks.innerCallback('fail',\n        callbacks.error('invalid_channel',\n          'channel module \"' + channel + '\" is undefined')\n      );\n      return;\n    }\n    if (payment_elements.livemode === false) {\n      if (hasOwn.call(channelModule, 'runTestMode')) {\n        channelModule.runTestMode(payment_elements);\n      } else {\n        testmode.runTestMode(payment_elements);\n      }\n      return;\n    }\n\n    if (typeof signature != 'undefined') {\n      stash.signature = signature;\n    }\n    if (typeof debug == 'boolean') {\n      stash.debug = debug;\n    }\n    channelModule.handleCharge(payment_elements);\n  },\n\n  setAPURL: function (url) {\n    stash.APURL = url;\n  }\n};\n\nmodule.exports = new PingppSDK();\n","var hasOwn = {}.hasOwnProperty;\nvar mods = {};\nmodule.exports = mods;\n\nmods.channels = {\n  alipay_pc_direct: require('./channels/alipay_pc_direct'),\n  alipay_wap: require('./channels/alipay_wap'),\n  bfb_wap: require('./channels/bfb_wap'),\n  cmb_wallet: require('./channels/cmb_wallet'),\n  cp_b2b: require('./channels/cp_b2b'),\n  fqlpay_qr: require('./channels/fqlpay_qr'),\n  fqlpay_wap: require('./channels/fqlpay_wap'),\n  isv_wap: require('./channels/isv_wap'),\n  jdpay_wap: require('./channels/jdpay_wap'),\n  qpay_pub: require('./channels/qpay_pub'),\n  upacp_pc: require('./channels/upacp_pc'),\n  upacp_wap: require('./channels/upacp_wap'),\n  wx_lite: require('./channels/wx_lite'),\n  wx_pub: require('./channels/wx_pub'),\n  wx_wap: require('./channels/wx_wap'),\n  yeepay_wap: require('./channels/yeepay_wap')\n};\n\nmods.extras = {\n  ap: require('./channels/extras/ap')\n};\n\nmods.getChannelModule = function(channel) {\n  if (hasOwn.call(mods.channels, channel)) {\n    return mods.channels[channel];\n  }\n  return undefined;\n};\n\nmods.getExtraModule = function(name) {\n  if (hasOwn.call(mods.extras, name)) {\n    return mods.extras[name];\n  }\n  return undefined;\n};\n","/**\n * Created by dong on 2016/12/30.\n */\n\nvar callbacks = require('./callbacks');\nvar hasOwn = {}.hasOwnProperty;\n\nmodule.exports = {\n  id: null,\n  or_id: null,\n  channel: null,\n  app: null,\n  credential: {},\n  extra: null,\n  livemode: null,\n  order_no: null,\n  time_expire: null,\n\n  init: function (charge_or_order) {\n    var charge;\n    if (typeof charge_or_order === 'string') {\n      try {\n        charge = JSON.parse(charge_or_order);\n      } catch (err) {\n        callbacks.innerCallback('fail',\n          callbacks.error('json_decode_fail', err));\n        return;\n      }\n    } else {\n      charge = charge_or_order;\n    }\n\n    if (typeof charge === 'undefined') {\n      callbacks.innerCallback('fail', callbacks.error('json_decode_fail'));\n      return;\n    }\n\n    if (hasOwn.call(charge, 'object') && charge.object == 'order') {\n      charge.or_id = charge.id;\n      charge.order_no = charge.merchant_order_no;\n      var charge_essentials = charge.charge_essentials;\n      charge.channel = charge_essentials.channel;\n      charge.credential = charge_essentials.credential;\n      charge.extra = charge_essentials.extra;\n      if(hasOwn.call(charge, 'charge') && charge.charge != null) {\n        charge.id = charge.charge;\n      } else if(hasOwn.call(charge_essentials, 'id') && charge_essentials.id != null) {\n        charge.id = charge_essentials.id;\n      } else if(hasOwn.call(charge, 'charges')) {\n        for(var i = 0; i < charge.charges.data.length; i++){\n          if(charge.charges.data[i].channel === charge_essentials.channel) {\n            charge.id = charge.charges.data[i].id;\n            break;\n          }\n        }\n      }\n    } else if(hasOwn.call(charge, 'object') && charge.object == 'recharge') {\n      charge = charge.charge;\n    }\n\n    for (var key in this) {\n      if (hasOwn.call(charge, key)) {\n        this[key] = charge[key];\n      }\n    }\n    return this;\n  },\n\n  clear: function () {\n    for (var key in this) {\n      if (typeof this[key] !== 'function') {\n        this[key] = null;\n      }\n    }\n  }\n};","module.exports = {\n};\n","var utils = require('./utils');\nvar hasOwn = {}.hasOwnProperty;\n\nmodule.exports = {\n\n  PINGPP_MOCK_URL: 'http://sissi.pingxx.com/mock.php',\n\n  runTestMode: function (charge) {\n    var params = {\n      'ch_id': charge.id,\n      'scheme': 'http',\n      'channel': charge.channel\n    };\n\n    if (hasOwn.call(charge, 'order_no')) {\n      params.order_no = charge.order_no;\n    } else if (hasOwn.call(charge, 'orderNo')) {\n      params.order_no = charge.orderNo;\n    }\n    if (hasOwn.call(charge, 'time_expire')) {\n      params.time_expire = charge.time_expire;\n    } else if (hasOwn.call(charge, 'timeExpire')) {\n      params.time_expire = charge.timeExpire;\n    }\n    if (hasOwn.call(charge, 'extra')) {\n      params.extra = encodeURIComponent(JSON.stringify(charge.extra));\n    }\n    utils.redirectTo(this.PINGPP_MOCK_URL + '?' + utils.stringifyData(params));\n  }\n};\n","var hasOwn = {}.hasOwnProperty;\n\nvar utils = module.exports = {\n\n  /**\n   * 对象转换成 query string\n   * @param object data  待转对象\n   * @param string channel  渠道\n   * @param boolean urlencode  是否需要 urlencode\n   *\n   * @return string query string\n   */\n  stringifyData: function (data, channel, urlencode) {\n    if (typeof urlencode == 'undefined') {\n      urlencode = false;\n    }\n    var output = [];\n    for (var i in data) {\n      if (!hasOwn.call(data, i) || typeof data[i] === 'function') {\n        continue;\n      }\n      if (channel == 'bfb_wap' && i == 'url') {\n        continue;\n      }\n      if (channel == 'yeepay_wap' && i == 'mode') {\n        continue;\n      }\n      if (i == 'channel_url') {\n        continue;\n      }\n      output.push(i + '=' +\n        (urlencode ? encodeURIComponent(data[i]) : data[i]));\n    }\n    return output.join('&');\n  },\n\n  /**\n   * 网络请求\n   * @param string url\n   * @param string method  请求方式, POST, GET ...\n   * @param object requestData  请求数据\n   * @param function successCallback  成功回调 (data, statusCode, xhr)\n   * @param function errorCallback  错误回调 (xhr, statusCode, error)\n   */\n  request: function (url, method, requestData,\n    successCallback, errorCallback, headers) {\n    if (typeof XMLHttpRequest === 'undefined') {\n      console.log('Function XMLHttpRequest is undefined.');\n      return;\n    }\n    var xhr = new XMLHttpRequest();\n    if (typeof xhr.timeout !== 'undefined') {\n      xhr.timeout = 6000;\n    }\n    method = method.toUpperCase();\n\n    if (method === 'GET' && typeof requestData === 'object' && requestData) {\n      url += '?' + utils.stringifyData(requestData, '', true);\n    }\n    xhr.open(method, url, true);\n    if (typeof headers !== 'undefined') {\n      for (var k in headers) {\n        if (hasOwn.call(headers, k)) {\n          xhr.setRequestHeader(k, headers[k]);\n        }\n      }\n    }\n    if (method === 'POST') {\n      xhr.setRequestHeader('Content-type', 'application/json; charset=utf-8');\n      xhr.send(JSON.stringify(requestData));\n    } else {\n      xhr.send();\n    }\n    if (typeof successCallback == 'undefined') {\n      successCallback = function () {};\n    }\n    if (typeof errorCallback == 'undefined') {\n      errorCallback = function () {};\n    }\n    xhr.onreadystatechange = function () {\n      if (xhr.readyState == 4) {\n        successCallback(xhr.responseText, xhr.status, xhr);\n      }\n    };\n    xhr.onerror = function (e) {\n      errorCallback(xhr, 0, e);\n    };\n  },\n\n  /**\n   * 表单提交\n   * @param string url\n   * @param string method  请求方式, POST, GET ...\n   * @param object params  请求数据\n   */\n  formSubmit: function (url, method, params) {\n    if (typeof window === 'undefined') {\n      console.log('Not a browser, form submit url: ' + url);\n      return;\n    }\n    var form = document.createElement('form');\n    form.setAttribute('method', method);\n    form.setAttribute('action', url);\n\n    for (var key in params) {\n      if (hasOwn.call(params, key)) {\n        var hiddenField = document.createElement('input');\n        hiddenField.setAttribute('type', 'hidden');\n        hiddenField.setAttribute('name', key);\n        hiddenField.setAttribute('value', params[key]);\n        form.appendChild(hiddenField);\n      }\n    }\n\n    document.body.appendChild(form);\n    form.submit();\n  },\n\n  randomString: function (length) {\n    if (typeof length == 'undefined') {\n      length = 32;\n    }\n    var chars =\n      'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789';\n    var maxPos = chars.length;\n    var str = '';\n    for (var i = 0; i < length; i++) {\n      str += chars.charAt(Math.floor(Math.random() * maxPos));\n    }\n\n    return str;\n  },\n\n  redirectTo: function (url) {\n    if (typeof window === 'undefined') {\n      console.log('Not a browser, redirect url: ' + url);\n      return;\n    }\n    window.location.href = url;\n  },\n\n  inWeixin: function () {\n    if (typeof navigator === 'undefined') {\n      return false;\n    }\n    var ua = navigator.userAgent.toLowerCase();\n    return ua.indexOf('micromessenger') !== -1;\n  },\n\n  inAlipay: function () {\n    if (typeof navigator === 'undefined') {\n      return false;\n    }\n    var ua = navigator.userAgent.toLowerCase();\n    return ua.indexOf('alipayclient') !== -1;\n  },\n\n  documentReady: function (fn) {\n    if (typeof document === 'undefined') {\n      fn();\n      return;\n    }\n    if (document.readyState != 'loading') {\n      fn();\n    } else {\n      document.addEventListener('DOMContentLoaded', fn);\n    }\n  },\n\n  loadUrlJs: function (sid, jsurl, callback) {\n    var nodeHead = document.getElementsByTagName('head')[0];\n    var nodeScript = null;\n    if (document.getElementById(sid) == null) {\n      nodeScript = document.createElement('script');\n      nodeScript.setAttribute('type', 'text/javascript');\n      nodeScript.setAttribute('src', jsurl);\n      nodeScript.setAttribute('id', sid);\n      nodeScript.async = true;\n      if (callback != null) {\n        nodeScript.onload = nodeScript.onreadystatechange = function () {\n          if (nodeScript.ready) {\n            return false;\n          }\n\n          if (!nodeScript.readyState || nodeScript.readyState == 'loaded'\n              || nodeScript.readyState == 'complete') {\n            nodeScript.ready = true;\n            callback();\n          }\n        };\n      }\n      nodeHead.appendChild(nodeScript);\n    } else {\n      if (callback != null) {\n        callback();\n      }\n    }\n  }\n};\n","module.exports = {\n  v: '2.1.14'\n};\n"]}